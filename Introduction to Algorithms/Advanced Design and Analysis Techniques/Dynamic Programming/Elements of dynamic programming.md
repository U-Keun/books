지금까지 동적 프로그래밍을 적용하는 예제를 살펴보았고, 이것을 언제 적용할 수 있는지 알아보려고 합니다. 이번 절에서는 최적화 문제에 동적 프로그래밍을 적용하기 위한 두 가지 필수적인 개념인 *최적 하위 구조*와 *중복되는 부분 문제*에 대해 알아볼 것입니다. 그리고 메모이제이션이 하향식 재귀 접근법에서 중복되는 부분 문제를 해결할 때 어떻게 효율적으로 작동하는지도 알아볼 것입니다.
##### 최적 하위 구조
동적 프로그래밍을 이용해서 최적화 문제를 푸는 첫 번째 단계는 최적해의 구조를 정의하는 것이었습니다. 문제에 대한 최적해가 그것의 하위 문제의 최적해를 포함하고 있다면 그 문제는 최적 하위 구조를 가진다고 말합니다. 그리고 문제가 최적 하위 구조를 가진다는 것은 동적 프로그래밍을 적용할 수 있다는 좋은 근거입니다. 동적 프로그래밍에서는 하위 문제의 최적해로부터 전체 문제의 최적해를 구성합니다. 그러므로, 설정한 하위 문제들이 실제로 그 최적해를 구성하는 데 필요한 모든 하위 문제들을 포함하고 있어야 합니다.

지금까지 살펴본 두 예제에서도 각 문제에 대한 최적 하위 구조를 정의했습니다. [[Rod cutting|15.1절]]에서는 길이 $n$인 막대를 수익이 최대가 되도록 자르는 최적의 방법을 찾기 위해 막대에서 가장 첫 번째로 자르는 부분을 하위 구조의 기준으로 정의했습니다. [[Matrix-chain multiplication|15.2절]]에서는 연속 행렬곱에서 스칼라 곱의 횟수가 가장 적게 나오는 행렬곱 순서를 찾기 위해 $A_i A_{i + 1} \cdots A_j$를 두 개의 행렬 곱 $A_i A_{i + 1} \cdots A_k$와 $A_{k + 1} A_{k + 2} \cdots A_j$로 나누어서 각각의 행렬곱을 하위 구조로 정의했습니다.

하위 구조를 구성할 때는 다음과 같은 공통적인 패턴을 확인할 수 있습니다:
1. 문제의 해결책이 막대를 자르는 부분을 선택하거나 행렬곱을 나누는 부분을 선택하는 것과 같은 '선택'을 하는 것으로 구성되어 있고, 이 선택을 하면 하나 이상의 하위 문제가 해결되어야 합니다.
2. 각각의 하위 구조에서는 주어진 문제에 대해 최적의 해결책을 도출할 수 있는 선택권이 주어진다고 가정합니다. 그 선택이 어떻게 결정되는지 고려하지 않습니다. 단지 그것이 주어진 것이라고 가정합니다.
3. 주어진 선택에 대해, 어떤 하위 문제가 발생하고 어떻게 그 하위 문제를 일반화할 지 결정합니다.
4. 문제에 대한 최적해를 구하는 데에 사용되는 하위 문제의 해는 상위 문제를 해결할 때와 동일한 방식으로 최적의 해를 구할 수 있어야 합니다. 그리고 그 방식을 사용하지 않는다면 최적의 해가 나오지 않음을 증명해야 합니다. 최적해가 하나 이상의 하위 문제로 구성된다면 

#Algorithm #DP 