### 상속보다는 컴포지션을 사용하라.
2023-09-30 16:52
여기서 상속은 클래스가 다른 클래스를 확장하는 구현 상속을 말한다. 상속을 받은 하위 클래스의 구현은 상위 클래스가 어떻게 작동 하는지 정확하게 알고 있어야 큰 문제가 생기지 않는다. 그렇지 않으면 의도치 않게 메서드를 재정의하게 될 수도 있고, 재정의한 메서드가 예상대로 작동하지 않을 수 있다.</br>
상속을 받고자 하는 클래스를 정확하게 알고 있더라도, 구현할 클래스가 상속을 받고자 하는 클래스의 '진짜' 하위 클래스인지도 확인해야 한다. 다시 말하면, 클래스 B가 클래스 A와 'is-a' 관계일 때 클래스 B는 클래스 A를 상속받을 수 있다. 그렇지 않은 경우, 즉, 클래스 B가 클래스 A와 'has-a' 관계라면 상속보다는 컴포지션(composition)을 사용하는 것이 좋다.</br>
컴포지션은 새로운 클래스를 만들 때, `private` 필드로 기존 클래스를 참조하도록 설계하는 것이다. 새 클래스의 인스턴스 메서드들은  `private` 필드로 참조된 기존 클래스의 메서드를 전달(forwarding)받아서 결과를 반환하게 된다. 이렇게 만들어진 클래스를 래퍼 클래스(wrapper class)라고도 부른다. 기존 클래스를 위한 적당한 인터페이스가 있다면 메서드를 전달하기 위한 클래스를 개별적으로 만들고, 그 클래스를 상속받는 것으로 컴포지션을 구현하는 방법도 있다.

#Java #EffectiveJava 