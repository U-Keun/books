### 추상 클래스 보다는 인터페이스를 우선하라.
2023-10-04 14:59
인터페이스와 추상 클래스는 기본적으로는 구현(`implements`), 상속(`extends`)을 통해 사용하는데, 클래스들을 타입으로 분류할 수 있도록 돕는다. 둘 중에 인터페이스가 타입의 관점에서 비교적 자유롭고, 사용하기에 유연하기 때문에 인터페이스를 사용하는 것을 지향한다. 물론 클래스 간의 계층 구조가 명확한 경우에는 더 명확하게 클래스를 만들 수 있기 때문에 추상 클래스가 더 좋을 수도 있지만, 계층 구조가 모호한 것들에 대해서 분류를 해야 하는 경우가 일반적으로는 많다. 개인적으로는 수학에서 totally ordered set과 partially ordered set 개념이 생각이 났다.
인터페이스와 추상 클래스의 장점을 모두 취하는 방법으로 템플릿 메서드 패턴(Template Method pattern)이 있다. 이것은 인터페이스와 추상 골격 구현(abstract skeletal implemetation) 클래스를 함께 제공하는 것인데, 인터페이스로는 타입을 정의하고 골격 구현 클래스에는 나머지 메서드들을 작성하는 것이다. 그러면 이 골격 구현 클래스를 상속받아서 사용할 때, 인터페이스를 위한 메서드를 작성하기 수월해진다.
조금 더 자세히 이야기하면, 먼저 인터페이스의 메서드들을 구현하기 위한 기반 메서드를 선정한다. 골격 구현 클래스에 기반 메서드를 `abstract`로 만들고, 기반 메서드로 만들 수 있는 인터페이스용 메서드를 디폴트 메서드로 제공한다. 그러면 이 골격 구현 클래스를 상속받을 구체 클래스에서는 기반 메서드만 구현해서 사용할 수 있다.

#Java #EffectiveJava 