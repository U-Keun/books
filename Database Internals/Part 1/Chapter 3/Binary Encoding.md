디스크에 데이터를 효율적으로 저장하려면, 압축되고 직렬화 및 역직렬화가 쉬운 형식으로 인코딩되어야 합니다. 이진 형식에 대해 이야기할 때, "레이아웃"이라는 단어를 자주 듣게 됩니다. 우리는 malloc과 free와 같은 원시 기능[^1]이 없고, 오직 읽기와 쓰기만 가능하기 때문에, 접근 방식을 다르게 생각하고 데이터를 그에 맞게 준비해야 합니다.

효율적인 페이지 레이아웃을 만드는 데 사용되는 주요한 원칙에 대해 알아보겠습니다. 이 원칙들은 임의의 이진 형식에 적용됩니다: 이것과 유사한 가이드라인을 파일을 생성하거나 직렬화 형식 또는 통신 프로토콜에 사용할 수 있습니다.

레코드를 페이지에 배치하기 전에, 키와 데이터 레코드를 이진 형식으로 표현하는 방법, 여러 개의 값을 더 복잡한 구조로 결합하는 방법, 그리고 가변 크기 타입 및 배열을 구현하는방법을 이해해야 합니다.
##### Primitive Types
키와 값은 `integer`, `date`, `string` 같은 *타입*[^type]을 가지고 있고, 원시 이진 형태로 표현될 수 있습니다(직렬화 및 역직렬화).

대부분의 숫자 데이터 타입은 고정 크기 값으로 표현됩니다. 다중 바이트 숫자 값을 사용할 때는 인코딩과 디코딩 모두에서 동일한 바이트 순서(*엔디언*[^endianness])를 사용하는 것이 중요합니다. 엔디언은 바이트의 순서를 결정합니다:
- Big-endian : 순서는 MSB[^most-significant byte]에서 시작하여 바이트가 감소하는 중요도 순서로 이어집니다. 즉, MSB는 가장 낮은 주소를 갖습니다.
- Little-endian : 순서는 LSB[^least-significant byte]에서 시작하여 바이트가 증가하는 중요도 순서로 이어집니다.



#DataBaseInternals #DataBase 

[^1]: C 프로그래밍 언어에서 동적 메모리 할당과 해제를 위해 사용되는 함수들입니다.