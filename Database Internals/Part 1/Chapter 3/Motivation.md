파일 포맷을 만드는 것은 관리되지 않는 메모리 모델을 이용해서 특정 언어로 데이터 구조를 만드는 것과 비슷합니다. 데이터 블럭을 할당하고 원하는 크기로 잘라서 고정된 크기의 데이터(기본형 또는 특정 데이터 구조)를 사용합니다. 더 큰 덩어리의 메모리나 크기가 변할 수 있는 데이터 구조를 참조하고 싶다면 포인터를 사용합니다.

관리되지 않는 메모리 모델을 사용하는 언어를 사용하면 연속적인 메모리 세그먼트가 있는지, 조각이 나 있는지, 또는 메모리 세그먼트를 해방한 후에 어떤 일이 발생하는지 상관 없이 필요할 때 (합리적인 범위 내에서) 더 많은 메모리를 할당할 수 있습니다. 디스크에서는 가비지 콜렉션과 단편화[^1] 관리를 직접 해야 합니다.

데이터 레이아웃은 메모리보다 디스크에서 훨씬 더 중요합니다. 디스크의 데이터 구조를 효율적으로 설계하려면, 데이터에 빠르게 액세스할 수 있도록 배치하고, 영구 저장 매체의 특성을 고려해야 합니다. 이를 위해 이진 데이터 형식을 고안하고 데이터를 효율적으로 직렬화 및 병렬화할 방법을 찾아야 합니다.

C 언어 같은 낮은 수준의 언어를 추가적인 라이브러리 없이 사용하는 것에는 약간의 제약이 있습니다. 데이터 구조는 미리 정해진 크기여야 하고, 명시적으로 할당 및 해제되어야 합니다. 메모리 할당과 추적을 수동으로 구현하는 것은 훨씬 더 어려운데, 이는 미리 정의된 크기의 메모리 세그먼트로만 작업할 수 있으며, 어떤 세그먼트가 이미 해제되었고 어떤 세그먼트가 여전히 사용 중인지 추적해야 하기 때문입니다.

메인 메모리에 데이터를 저장할 때는, 메모리 레이아웃에 관한 대부분의 문제는 

#DataBaseInternals #DataBase 

[^1]: 파일을 삭제하거나 이동시키면서 디스크 상에 사용하지 않는 작은 빈 공간들이 여기저기 흩어져 있는 상태(외부 단편화) 또는 할당된 디스크 블록이나 섹터 내에서 사용되지 않는 공간이 존재하는 상태(내부 단편화)를 말합니다.