파일 포맷을 만드는 것은 관리되지 않는 메모리 모델을 이용해서 특정 언어로 데이터 구조를 만드는 것과 비슷합니다. 데이터 블럭을 할당하고 원하는 크기로 잘라서 고정된 크기의 데이터(기본형 또는 특정 데이터 구조)를 사용합니다. 더 큰 덩어리의 메모리나 크기가 변할 수 있는 데이터 구조를 참조하고 싶다면 포인터를 사용합니다.

관리되지 않는 메모리 모델을 사용하는 언어를 사용하면 연속적인 메모리 세그먼트가 있는지, 조각이 나 있는지, 또는 메모리 세그먼트를 해방한 후에 어떤 일이 발생하는지 상관 없이 필요할 때 (합리적인 범위 내에서) 더 많은 메모리를 할당할 수 있습니다. 디스크에서는 가비지 콜렉션과 단편화[^1] 관리를 직접 해야 합니다.

데이터 레이아웃은 디스크 보다는 메모리에서 훨씬 덜 중요합니다. 디스크에 있는 데이터 구조가 효율적이려면 디스크에 데이터를 빠르게 액세스할 수 있는 방식으로 배치하고 영구 저장 매체의 특성을 고려하여 이진 데이터 형식을 고안하고 데이터를 효율적으로 직렬화 및 병렬화할 수 있는 방법을 찾아야 합니다.



#DataBaseInternals #DataBase 

[^1]: 파일을 삭제하거나 이동시키면서 디스크 상에 사용하지 않는 작은 빈 공간들이 여기저기 흩어져 있는 상태(외부 단편화) 또는 할당된 디스크 블록이나 섹터 내에서 사용되지 않는 공간이 존재하는 상태(내부 단편화)를 말합니다.